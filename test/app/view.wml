import {DrawerLayout, ActionArea, MainView, MenuButton, Button} from '@quenk/wml-widgets/lib/components'
import {Container, Column, Row} from '@quenk/wml-widgets/lib/components'
import {Panel, PanelHeader, PanelBody, PanelFooter} from '@quenk/wml-widgets/lib/components'
import {Modal, ModalHeader, ModalBody, ModalFooter} from '@quenk/wml-widgets/lib/components'

{% view CreateDialog  %}

  <Modal wml:id="modal">

    <ModalHeader>Create record</ModalHeader>
      
      <ModalBody>

        Touch that body

      </ModalBody>

  </Modal>  

{% endview %}

{% macro navigation %}

  <p>This is in the drawer</p>

{% endmacro %}

{% macro content %}

  <fragment>

    <ActionArea wml:id="actions">

      <MenuButton ww:onClick={{this::toggleDrawer}}/>

      <Button
        wml:id="createButton"
        ww:style="-danger"
        ww:text="Create"
        ww:class="-right"
        ww:onClick={{this::create}}/>

    </ActionArea>

    <MainView wml:id="main">

      <Container>

        <Row>

          <Column>

            <Panel ww:style="-info">

              <PanelHeader>Details</PanelHeader>

              <PanelBody>Records:</PanelBody>

                <table class="table table-stripe table-bordered">

                <thead>
                  <tr>
                    <th>Number</th>
                    <th>Name</th>
                    <th>Amount</th>
                  </tr>
                </thead>

              <tbody>

                {% for record,number in this.records %}

                 <tr>
              
                  <td>{{number}}</td>
                  <td>{{record.name}}</td>
                  <td>{{record.amount}}</td>

                  </tr>

                {% endfor %}

                </tbody>

              </table>

              <PanelFooter>
                0
              </PanelFooter>

            </Panel>

      </Column>

    </Row>

  </Container>

  </MainView>

 </fragment>

{% endmacro %}

<DrawerLayout 
  wml:id="layout"
  ww:navigation={{navigation}}
  ww:content={{v=>content.call(this, v)}} />
