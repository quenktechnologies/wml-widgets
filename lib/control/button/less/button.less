@import "css/margin";
@import "css/color";
@import "css/background";
@import "css/border";
@import "ports/ports";

.___button-variant(@color; @background; @border) {
  .color(@color);
  .background-color(@background);
  .border-color(@border);

  &:focus,
  &.focus {
    .color(@color);
    .background-color(darken(@background, 10%));
    .border-color(darken(@border, 25%));
  }
  &:hover {
    .color(@color);
    .background-color(darken(@background, 10%));
    .border-color(darken(@border, 12%));
  }
  &:active,
  &.active,
  .open > .dropdown-toggle& {
    .color(@color);
    .background-color(darken(@background, 10%));
    .border-color(darken(@border, 12%));

    &:hover,
    &:focus,
    &.focus {
      .color(@color);
      .background-color(darken(@background, 17%));
      .border-color(darken(@border, 25%));
    }
  }
  &:active,
  &.active,
  .open > .dropdown-toggle& {
    .background-image(none);
  }
  &.disabled,
  &[disabled],
  fieldset[disabled] & {
    &:hover,
    &:focus,
    &.focus {
      .background-color(@background);
      .border-color(@border);
    }
  }

  .badge {
    .color(@background);
    .background-color(@color);
  }
}

.__BUTTON__ + .__BUTTON__ {

  .margin-left(@button-sibiling-spacing);

}

.__BUTTON_GROUP__ { 

  .btn-group;      

  & >.__BUTTON__:first-child:not(:last-child):not(.dropdown-toggle) {
    border-right-radius: 0;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
  }
  & >.__BUTTON__:first-child {
    margin-left: 0;
  }
  & >.__BUTTON__, .btn-group-vertical >.__BUTTON__ {
    position: relative;
    float: left;
  }

  &.__SPACED__ .__BUTTON__ {

    .margin-right(@button-group-buttons-margin-right);

    &:last-child {

      .margin-right(0);

    }

  }

}

.__BUTTON__                       { .btn;             }
.__BUTTON__.__DEFAULT__           { .btn-default;     }
.__BUTTON__.__PRIMARY__           { .btn-primary;     }
.__BUTTON__.__SUCCESS__           { .btn-success      }
.__BUTTON__.__INFO__              { .btn-info;        }
.__BUTTON__.__WARNING__           { .btn-warning;     }
.__BUTTON__.__DANGER__            { .btn-danger;      }

.__BUTTON__.__LARGE__             { .btn-lg;          }
.__BUTTON__.__SMALL__             { .btn-sm;          }
.__BUTTON__.__EXTRA_SMALL__       { .btn-xs;          } 

.__BUTTON__.__BLOCK__             { .btn-block;       }

/* Copy some stuff from bootstrap/button.less */
.__BUTTON__.__BLOCK__ + .__BUTTON__.__BLOCK__ { 

  margin-top: 5px;

}

// Specificity overrides
input[type="submit"],
input[type="reset"],
input[type="button"] {
  &.__BUTTON__ .__BLOCK__ {
    width: 100%;
  }
}
