
.__BUTTON_GROUP__ { 

  position: relative;
  display: inline-block;
 
  & > .__BUTTON__ {

    position: relative;
    float: left;
    // Bring the "active" button to the front
    &:hover, &:focus, &:active, &.__ACTIVE__ {

      z-index: 2;
      
    }
  }

  // Prevent double borders when buttons are next to each other
  & .__BUTTON__ + .__BUTTON__,
    .__BUTTON__ + .__BUTTON_GROUP__,
    .__BUTTON_GROUP__ + .__BUTTON__,
    .__BUTTON_GROUP__ + .__BUTTON_GROUP__ {

     margin-left: -1px;
    
  }

  // Set corners individual because sometimes a single button can be in 
  // a .__BUTTON_GROUP__ and we need :first-child and :last-child to both match.
  & > .__BUTTON__:first-child {

    margin-left: 0;

    &:not(:last-child):not(.dropdown-toggle) {

      border-right-radius:0;

    }

  }

  // Need .dropdown-toggle since :last-child doesn't apply,
  // given that a .dropdown-menu is used immediately after it
  & > .__BUTTON__:last-child:not(:first-child),
  & > .dropdown-toggle:not(:first-child) {

    border-left-radius: 0;

  }

  // Custom edits for including __BUTTON_GROUP__s within
  // __BUTTON_GROUP__s (useful for including dropdown buttons within a __BUTTON_GROUP__)
  & > .__BUTTON_GROUP__ {

    float: left;

  }
  
  & > .__BUTTON_GROUP__:not(:first-child):not(:last-child) > .__BUTTON__ {

    border-radius: 0;

  }

  & > .__BUTTON_GROUP__:first-child:not(:last-child) {
    > .__BUTTON__:last-child,
    > .dropdown-toggle {
      
      border-right-radius: 0;

    }
  }
  
  & > .__BUTTON_GROUP__:last-child:not(:first-child) > .__BUTTON__:first-child {

    border-left-radius:0;

  }

  // On active and open, don't show outline
  & .dropdown-toggle:active,

  &.open .dropdown-toggle {

    outline: 0;

  }

  // Split button dropdowns
  // ----------------------

  // Give the line between buttons some depth
  & > .__BUTTON__ + .dropdown-toggle {

    padding-left: 8px;
    padding-right: 8px;

  }

  & > .btn-lg + .dropdown-toggle {

    padding-left: 12px;
    padding-right: 12px;

  }

  // The clickable button for toggling the menu
  // Remove the gradient and set the same inset shadow as the :active state
  &.open .dropdown-toggle {

    box-shadow: inset 0 3px 5px rgba(0,0,0,.125);

    // Show no shadow for `.btn-link` since it has no other button styles.
    &.__LINK__ {

      box-shadow: none;

    }

  }

}

